import{S as ee,i as te,s as le,Q as se,e as p,k as h,t as d,w as oe,c as b,a as O,m as R,h as v,d as _,x as ie,b as Y,g as k,F as f,y as re,H as ne,j as G,q as ae,o as fe,B as ce,O as ue,l as S,G as _e}from"../chunks/vendor-2ab1862f.js";import{s as me}from"../chunks/stores-a00b748e.js";function pe(n){let l,s,e,o=n[4]&&X(),i=n[5]&&Z(n),r=n[6]&&x(n);return{c(){o&&o.c(),l=h(),i&&i.c(),s=h(),r&&r.c(),e=S()},l(t){o&&o.l(t),l=R(t),i&&i.l(t),s=R(t),r&&r.l(t),e=S()},m(t,a){o&&o.m(t,a),k(t,l,a),i&&i.m(t,a),k(t,s,a),r&&r.m(t,a),k(t,e,a)},p(t,a){t[4]?o||(o=X(),o.c(),o.m(l.parentNode,l)):o&&(o.d(1),o=null),t[5]?i?i.p(t,a):(i=Z(t),i.c(),i.m(s.parentNode,s)):i&&(i.d(1),i=null),t[6]?r?r.p(t,a):(r=x(t),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null)},d(t){o&&o.d(t),t&&_(l),i&&i.d(t),t&&_(s),r&&r.d(t),t&&_(e)}}}function be(n){let l;return{c(){l=d("Your browser does not support the Geolocation API.")},l(s){l=v(s,"Your browser does not support the Geolocation API.")},m(s,e){k(s,l,e)},p:_e,d(s){s&&_(l)}}}function X(n){let l;return{c(){l=d("Loading...")},l(s){l=v(s,"Loading...")},m(s,e){k(s,l,e)},d(s){s&&_(l)}}}function Z(n){let l=JSON.stringify(n[3])+"",s;return{c(){s=d(l)},l(e){s=v(e,l)},m(e,o){k(e,s,o)},p(e,o){o&8&&l!==(l=JSON.stringify(e[3])+"")&&G(s,l)},d(e){e&&_(s)}}}function x(n){let l,s=n[6].code+"",e,o,i=n[6].message+"",r;return{c(){l=d("An error occurred. "),e=d(s),o=h(),r=d(i)},l(t){l=v(t,"An error occurred. "),e=v(t,s),o=R(t),r=v(t,i)},m(t,a){k(t,l,a),k(t,e,a),k(t,o,a),k(t,r,a)},p(t,a){a&64&&s!==(s=t[6].code+"")&&G(e,s),a&64&&i!==(i=t[6].message+"")&&G(r,i)},d(t){t&&_(l),t&&_(e),t&&_(o),t&&_(r)}}}function de(n){let l;function s(i,r){return i[7]?be:pe}let e=s(n),o=e(n);return{c(){o.c(),l=S()},l(i){o.l(i),l=S()},m(i,r){o.m(i,r),k(i,l,r)},p(i,r){e===(e=s(i))&&o?o.p(i,r):(o.d(1),o=e(i),o&&(o.c(),o.m(l.parentNode,l)))},d(i){o.d(i),i&&_(l)}}}function ve(n){let l,s,e,o,i,r,t,a,D,w=n[1].user.name+"",I,F,g,E,q,A=n[1].user.email+"",L,H,J,N,T,V,W,j,C,Q,$,P,U,K;return $=new se({props:{getPosition:n[0],$$slots:{default:[de,({coords:u,loading:m,success:y,error:c,notSupported:B})=>({3:u,4:m,5:y,6:c,7:B}),({coords:u,loading:m,success:y,error:c,notSupported:B})=>(u?8:0)|(m?16:0)|(y?32:0)|(c?64:0)|(B?128:0)]},$$scope:{ctx:n}}}),{c(){l=p("body"),s=p("div"),e=p("div"),o=p("br"),i=p("br"),r=p("br"),t=h(),a=p("h1"),D=d("Welcome, "),I=d(w),F=d("!"),g=h(),E=p("p"),q=d("Your email is "),L=d(A),H=p("br"),J=h(),N=p("button"),T=d("Find my Location"),V=h(),W=p("br"),j=p("br"),C=p("br"),Q=h(),oe($.$$.fragment),this.h()},l(u){l=b(u,"BODY",{class:!0});var m=O(l);s=b(m,"DIV",{class:!0});var y=O(s);e=b(y,"DIV",{id:!0,class:!0});var c=O(e);o=b(c,"BR",{}),i=b(c,"BR",{}),r=b(c,"BR",{}),t=R(c),a=b(c,"H1",{class:!0});var B=O(a);D=v(B,"Welcome, "),I=v(B,w),F=v(B,"!"),B.forEach(_),g=R(c),E=b(c,"P",{});var z=O(E);q=v(z,"Your email is "),L=v(z,A),z.forEach(_),H=b(c,"BR",{}),J=R(c),N=b(c,"BUTTON",{class:!0});var M=O(N);T=v(M,"Find my Location"),M.forEach(_),V=R(c),W=b(c,"BR",{}),j=b(c,"BR",{}),C=b(c,"BR",{}),Q=R(c),ie($.$$.fragment,c),c.forEach(_),y.forEach(_),m.forEach(_),this.h()},h(){Y(a,"class","svelte-1soybve"),Y(N,"class","svelte-1soybve"),Y(e,"id","content"),Y(e,"class","svelte-1soybve"),Y(s,"class","svelte-1soybve"),Y(l,"class","svelte-1soybve")},m(u,m){k(u,l,m),f(l,s),f(s,e),f(e,o),f(e,i),f(e,r),f(e,t),f(e,a),f(a,D),f(a,I),f(a,F),f(e,g),f(e,E),f(E,q),f(E,L),f(e,H),f(e,J),f(e,N),f(N,T),f(e,V),f(e,W),f(e,j),f(e,C),f(e,Q),re($,e,null),P=!0,U||(K=ne(N,"click",n[2]),U=!0)},p(u,[m]){(!P||m&2)&&w!==(w=u[1].user.name+"")&&G(I,w),(!P||m&2)&&A!==(A=u[1].user.email+"")&&G(L,A);const y={};m&1&&(y.getPosition=u[0]),m&504&&(y.$$scope={dirty:m,ctx:u}),$.$set(y)},i(u){P||(ae($.$$.fragment,u),P=!0)},o(u){fe($.$$.fragment,u),P=!1},d(u){u&&_(l),ce($),U=!1,K()}}}const Be=async({session:n})=>n.user.exists?{}:{status:302,redirect:"/login"};function ke(n,l,s){let e;ue(n,me,r=>s(1,e=r));let o=!1;return[o,e,()=>s(0,o=!0)]}class he extends ee{constructor(l){super();te(this,l,ke,ve,le,{})}}export{he as default,Be as load};
